<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc -->
<title>com.telebroad.teleconsole (app API)</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../jquery/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
<script type="text/javascript" src="../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../jquery/jquery-3.5.1.js"></script>
<script type="text/javascript" src="../../../jquery/jquery-ui.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="com.telebroad.teleconsole (app API)";
        }
    }
    catch(err) {
    }
//-->
var pathtoroot = "../../../";
var useModuleDirectories = true;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../index.html">Overview</a></li>
<li class="navBarCell1Rev">Package</li>
<li>Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<main role="main">
<div class="header">
<h1 title="Package" class="title">Package&nbsp;com.telebroad.teleconsole</h1>
</div>
<div class="contentContainer">
<section role="region"><a id="package.description">
<!--   -->
</a>
<div class="block">The top-level package for the app
This app is mostly structured using the MVC design pattern. If the controller got to out of hand,
 I also added a view model.
<br>
 <br>
 First let's give an overview of the app. As of now the app has 3 parts. 1. VOIP/SIP phone service
 2. Telebroad APIs for content 3. Telebroad Chat (this is still in progress and not yet finished)
 The VoIP service is a foreground service and uses the PJSIP library. The service does not usually
 run, except when there is a phone call in progress. More about this later.
 <br>
 <br>
 Telebroad APIs, these provide users with Call Logs, SMS messages, Contacts, Voicemails, and Fax
 messages. These communicate with the Telebroad webserv server via REST.
 <br><br>
 Chat uses a separate server and communicates with it via websocket.
 <br><br>
 Let's explore a bit more the VoIP service. The strategy used is the Push Notification Strategy.
 Regular SIP works as follows, a client opens a connection, and sends ReRegisters as long as it wants
 to receive messages, however this is not a good idea for mobile devices as they have limited battery
 life and keeping the client alive kills the battery. Instead what is done is that the app creates a
 SIP client when is starts up, sends the server a message that it can receive calls, then after a few
 seconds the client shuts down. After this, when a call is received, the server sends a push notification
 to the app, this notification wakes up the app, the app then restarts the client, &#38; sends a register
 through a process known as late-forking, the server sends the call to the newly created client. the
 client stays awake as long as the call is ongoing. After the call is done, the client checks for other
 calls, if there are none, the client waits a few seconds and then shuts down.
 <br><br>
 Regarding the Telebroad APIs, they are fetched from the server using REST, then saved in a <a href="https://developer.android.com/training/data-storage/room">Room Database</a> if the user has
 no internet, then the messages are retrieved from the database.
 <br><br>
 Let's go through some flows just to get an idea of how the app works, when the app starts it will
 fetch all the user data from the Telebroad API server, this includes the SIP line the user wants to
 use for the app. After fetching this, the app calls <a href="pjsip/PJSIPManager.html#updateUser(boolean)"><code>PJSIPManager.updateUser(boolean)</code></a>
 this method is used to register users, or to update their registration details (hence the name update user)
 Since any SIP related messages must be sent using the special PJSIP thread, all this method does is
 send a message to <a href="pjsip/SipService.html" title="class in com.telebroad.teleconsole.pjsip"><code>SipService</code></a> that the user wants to register.
 In turn, SipService calls <a href="pjsip/BackgroundService.html#enqueueJob(java.lang.Runnable,java.lang.String)"><code>enqueueJob(Runnable, String)</code></a> which then calls <a href="pjsip/SipService.html#updateUser(boolean)"><code>SipService.updateUser(boolean)</code></a>
 on the special

 <br><br>
 Finally let's go through the classes in this package
 1-2. BuildConfig and DataBindingTriggerClass, these are generated at build time by the IDE. <br>
 3. DialPadView this class is a custom view for a dialpad this class also uses the interface DialpadView.CallAction <br>
 4-6. Boilerplate classes for various functions.</div>
</section>
<ul class="blockList">
<li class="blockList">
<table class="typeSummary">
<caption><span>Interface Summary</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Interface</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tbody>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="DialPadView.CallAction.html" title="interface in com.telebroad.teleconsole">DialPadView.CallAction</a></th>
<td class="colLast">&nbsp;</td>
</tr>
</tbody>
</table>
</li>
<li class="blockList">
<table class="typeSummary">
<caption><span>Class Summary</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Class</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tbody>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="BuildConfig.html" title="class in com.telebroad.teleconsole">BuildConfig</a></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><a href="DataBindingTriggerClass.html" title="class in com.telebroad.teleconsole">DataBindingTriggerClass</a></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="DialPadView.html" title="class in com.telebroad.teleconsole">DialPadView</a></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><a href="MyFileProvider.html" title="class in com.telebroad.teleconsole">MyFileProvider</a></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="NetworkChangeCallBack.html" title="class in com.telebroad.teleconsole">NetworkChangeCallBack</a></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><a href="ShutdownService.html" title="class in com.telebroad.teleconsole">ShutdownService</a></th>
<td class="colLast">&nbsp;</td>
</tr>
</tbody>
</table>
</li>
</ul>
</div>
</main>
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../index.html">Overview</a></li>
<li class="navBarCell1Rev">Package</li>
<li>Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
</footer>
</body>
</html>
